# Console Application Configuration (Development)
spring.application.name=strategiz-console-api

# Server Configuration
server.port=8081

# Console Authentication (disable for local development)
console.auth.enabled=false

# Spring Boot Admin
spring.boot.admin.client.enabled=false

# Cache Configuration
spring.cache.type=jcache
spring.cache.jcache.config=classpath:ehcache.xml

# Async Configuration
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=4
spring.task.execution.pool.queue-capacity=100

# Logging
logging.level.root=INFO
logging.level.io.strategiz=DEBUG

# CORS Configuration
strategiz.cors.allowed-origins=http://localhost:3001,https://console.strategiz.io,https://strategiz-console.web.app

# Cookie Configuration (dev)
app.cookie.domain=localhost
app.cookie.secure=false
app.cookie.same-site=Lax

# Bean definition overriding
spring.main.allow-bean-definition-overriding=true

# ====================================================
# Firebase Configuration (Dev)
# ====================================================
firebase.database-url=https://strategiz-io.firebaseio.com
firebase.project-id=strategiz-io
firebase.storage.bucket=strategiz-io.firebasestorage.app

# ====================================================
# Vault Configuration (Dev)
# ====================================================
strategiz.vault.enabled=true
strategiz.vault.address=${VAULT_ADDR:http://127.0.0.1:8200}
strategiz.vault.cache-timeout-ms=60000
strategiz.vault.fail-fast=false
strategiz.vault.secrets-path=secret

spring.cloud.vault.uri=${VAULT_ADDR:http://127.0.0.1:8200}
spring.cloud.vault.token=${VAULT_TOKEN:root}
spring.cloud.vault.kv.enabled=true
spring.cloud.vault.kv.backend=secret
spring.cloud.vault.kv.default-context=strategiz

# ====================================================
# TimescaleDB Configuration (Dev) - DISABLED (migrated to ClickHouse)
# ====================================================
strategiz.timescale.enabled=false
strategiz.timescale.hikari.minimum-idle=1
strategiz.timescale.hikari.maximum-pool-size=5
strategiz.timescale.hikari.connection-timeout-ms=5000
strategiz.timescale.hikari.idle-timeout-ms=300000
strategiz.timescale.hikari.max-lifetime-ms=1800000

# ====================================================
# ClickHouse Configuration (Dev)
# ====================================================
strategiz.clickhouse.enabled=true
strategiz.clickhouse.ssl=true
strategiz.clickhouse.pool.max-pool-size=5
strategiz.clickhouse.pool.min-idle=1
strategiz.clickhouse.pool.connection-timeout-ms=10000
strategiz.clickhouse.pool.idle-timeout-ms=300000

# ====================================================
# Market Data Batch Jobs (Dev)
# ====================================================
marketdata.batch.backfill-enabled=false
marketdata.batch.backfill-years=7
marketdata.batch.backfill-timeframes=1Day,1Hour,1Week,1Month
marketdata.batch.thread-pool-size=1
marketdata.batch.batch-size=100
marketdata.batch.backfill-timeout-minutes=480

# Incremental job - disabled in dev by default
marketdata.batch.incremental-enabled=false
marketdata.batch.incremental-cron=0 */5 * * * MON-FRI
marketdata.batch.incremental-lookback-hours=2

# ====================================================
# Fundamentals Batch Jobs (Dev)
# ====================================================
fundamentals.batch.enabled=false
fundamentals.batch.incremental-cron=0 0 2 * * *

# ====================================================
# GCP Billing (Dev - Demo Mode)
# ====================================================
gcp.billing.enabled=true
gcp.billing.demo-mode=true

# AI Billing disabled
ai.billing.enabled=false

# Passkey Configuration (dev)
passkey.rpId=localhost
passkey.rpName=Strategiz Dev
passkey.challengeTimeoutMs=60000
