# Development Configuration for Strategiz

# Server Configuration
server.port=8443

# Firebase Configuration (development)
firebase.database-url=https://strategiz-io.firebaseio.com
firebase.project-id=strategiz-io

# Vault Configuration for Development
# IMPORTANT: Vault must be running and have required secrets configured
strategiz.vault.enabled=true
strategiz.vault.address=http://localhost:8200
strategiz.vault.secrets-path=secret
strategiz.vault.fail-fast=true
strategiz.vault.fallback-to-properties=false

# For local development, we can use the dev root token
# In production, this should come from environment variables or other secure methods
spring.cloud.vault.authentication=TOKEN
spring.cloud.vault.uri=http://localhost:8200
# Token can be set via VAULT_TOKEN env variable or will default to 'root' for dev

# CORS Configuration (allow localhost for development)
strategiz.cors.allowed-origins=http://localhost:3000,http://localhost:3001,https://localhost:8443

# Frontend URL configuration
application.frontend-url=http://localhost:3000
frontend.url=http://localhost:3000

# OAuth Configuration for Authentication
oauth.frontend-url=http://localhost:3000

# Passkey Configuration for Development
passkey.rpId=localhost
passkey.rpName=Strategiz Dev
passkey.challengeTimeoutMs=60000

# OAuth credentials loaded from Vault by OAuthVaultConfig
# NO default values - app fails if Vault secrets are missing

# Coinbase redirect URI for development
oauth.providers.coinbase.redirect-uri=https://localhost:8443/v1/providers/callback/cb

# Charles Schwab OAuth Configuration
# Credentials loaded from Vault - NO hardcoded secrets
oauth.providers.schwab.redirect-uri=https://127.0.0.1:8443/v1/providers/callback/schwab
oauth.providers.schwab.auth-url=https://api.schwabapi.com/v1/oauth/authorize
oauth.providers.schwab.scope=readonly

# Enable development features
spring.devtools.enabled=true

# Cookie Configuration (Development with HTTPS)
app.cookie.secure=true
app.cookie.domain=localhost
app.cookie.access-token-max-age=1800
app.cookie.refresh-token-max-age=604800

# SSL configuration is inherited from application.properties
# No need to redefine here - backend will use HTTPS by default on port 8443
spring.jpa.show-sql=true

# Logging
logging.level.root=INFO
logging.level.io.strategiz=DEBUG
logging.level.io.strategiz.application.config=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=WARN

# Actuator endpoints for development
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
# Google Gemini AI Configuration
# API key loaded from Vault - NO hardcoded secrets
gemini.api.url=https://generativelanguage.googleapis.com
gemini.model=gemini-1.5-flash
gemini.temperature=0.7
gemini.max-tokens=2048

# TimescaleDB Configuration (testing with production DB)
strategiz.timescale.enabled=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.io.strategiz.data.marketdata.timescale=DEBUG
