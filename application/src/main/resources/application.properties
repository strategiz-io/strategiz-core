spring.profiles.active=dev

# Kraken Provider Configuration
provider.kraken.client-id=
provider.kraken.client-secret=
provider.kraken.api.url=https://api.kraken.com

# Binance.US Provider Configuration
provider.binanceus.client-id=
provider.binanceus.client-secret=

# Charles Schwab Provider Configuration (empty defaults, will be implemented separately)
provider.charlesschwab.client-id=
provider.charlesschwab.client-secret=

# Common OAuth Configuration
provider.oauth.redirect-uri=http://localhost:8080/api/v1/provider/callback

# Coinbase Provider Configuration
provider.coinbase.api.url=https://api.coinbase.com/v2

# CoinGecko Provider Configuration
provider.coingecko.api.url=https://api.coingecko.com/api/v3

# AlphaVantage Provider Configuration  
provider.alphavantage.api.url=https://www.alphavantage.co
# Note: Demo key has limited functionality - get real key at https://www.alphavantage.co/support/#api-key
alphavantage.api.key=demo
alphavantage.enabled=false
server.port=8080

# Bean definition overriding
spring.main.allow-bean-definition-overriding=true

# Disable Spring Cloud GCP Firestore autoconfiguration since we're using Firebase Admin SDK
spring.cloud.gcp.firestore.enabled=false
spring.cloud.gcp.enabled=false
spring.cloud.gcp.core.enabled=false

# Disable JPA and Hibernate since we're using Firestore
spring.jpa.enabled=false
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,org.springframework.data.jpa.repository.config.JpaRepositoriesAutoConfiguration,org.springframework.cloud.gcp.autoconfigure.core.GcpContextAutoConfiguration,org.springframework.cloud.gcp.autoconfigure.firestore.GcpFirestoreAutoConfiguration

# Frontend URL configuration
application.frontend-url=http://localhost:3000

# OAuth Configuration for Authentication
oauth.frontend-url=http://localhost:3000

# Google OAuth Configuration (values loaded from Vault by OAuthVaultConfig)
oauth.providers.google.redirect-uri=${AUTH_GOOGLE_REDIRECT_URI:http://localhost:8080/auth/oauth/google/signin/callback}
oauth.providers.google.auth-url=${AUTH_GOOGLE_AUTH_URL:https://accounts.google.com/o/oauth2/auth}
oauth.providers.google.token-url=${AUTH_GOOGLE_TOKEN_URL:https://oauth2.googleapis.com/token}
oauth.providers.google.user-info-url=${AUTH_GOOGLE_USER_INFO_URL:https://www.googleapis.com/oauth2/v3/userinfo}
oauth.providers.google.scope=${AUTH_GOOGLE_SCOPE:email profile openid}

# Facebook OAuth Configuration (values loaded from Vault by OAuthVaultConfig)
oauth.providers.facebook.redirect-uri=${AUTH_FACEBOOK_REDIRECT_URI:http://localhost:8080/auth/oauth/facebook/callback}
oauth.providers.facebook.auth-url=${AUTH_FACEBOOK_AUTH_URL:https://www.facebook.com/v12.0/dialog/oauth}
oauth.providers.facebook.token-url=${AUTH_FACEBOOK_TOKEN_URL:https://graph.facebook.com/v12.0/oauth/access_token}
oauth.providers.facebook.user-info-url=${AUTH_FACEBOOK_USER_INFO_URL:https://graph.facebook.com/me}
oauth.providers.facebook.scope=${AUTH_FACEBOOK_SCOPE:email,public_profile}

# CORS configuration
strategiz.cors.allowed-origins=http://localhost:3000,http://localhost:8080,https://strategiz.io

# ====================================================
# Provider OAuth Configuration (for service-provider module)
# ====================================================
# Used for connecting user accounts to external providers

# Kraken OAuth Configuration
oauth.providers.kraken.client-id=${PROVIDER_KRAKEN_CLIENT_ID:}
oauth.providers.kraken.client-secret=${PROVIDER_KRAKEN_CLIENT_SECRET:}
oauth.providers.kraken.redirect-uri=http://localhost:8080/api/v1/provider/callback/kraken

# Coinbase OAuth Configuration (for provider connections)
oauth.providers.coinbase.client-id=${PROVIDER_COINBASE_CLIENT_ID:}
oauth.providers.coinbase.client-secret=${PROVIDER_COINBASE_CLIENT_SECRET:}
oauth.providers.coinbase.redirect-uri=${PROVIDER_COINBASE_REDIRECT_URI:http://localhost:8080/v1/providers/callback/coinbase}
oauth.providers.coinbase.auth-url=${PROVIDER_COINBASE_AUTH_URL:https://www.coinbase.com/oauth/authorize}
oauth.providers.coinbase.scope=${PROVIDER_COINBASE_SCOPE:wallet:accounts:read,wallet:transactions:read,wallet:buys:read,wallet:sells:read}

# Etherscan API key (replace with your real key)
etherscan.api.key=YOUR_ETHERSCAN_API_KEY_HERE

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,prometheus,metrics,env,loggers
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.endpoints.web.base-path=/actuator
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true
management.metrics.tags.application=strategiz-core

# Enable more detailed metrics
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.slo.http.server.requests=50ms, 100ms, 200ms, 500ms, 1s

# Web client metrics (for exchange API calls)
management.metrics.web.client.request.autotime.enabled=true

# ====================================================
# Vault Configuration
# ====================================================
# Vault connection settings
spring.cloud.vault.uri=http://localhost:8200
spring.cloud.vault.token=${VAULT_TOKEN:myroot}
spring.cloud.vault.kv.enabled=true
spring.cloud.vault.kv.backend=secret
spring.cloud.vault.kv.default-context=strategiz

# Vault authentication
spring.cloud.vault.authentication=TOKEN

# Enable Vault secret management
strategiz.vault.enabled=false
strategiz.vault.address=http://localhost:8200
strategiz.vault.secrets-path=secret
strategiz.vault.fail-fast=false
strategiz.vault.fallback-to-properties=true

# SpringDoc OpenAPI Configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.packagesToScan=io.strategiz
springdoc.pathsToMatch=/v1/**

# Passkey Configuration
passkey.rpId=localhost
passkey.rpName=Strategiz
passkey.challengeTimeoutMs=60000

# Enable debug logging for auth module
logging.level.dev.strategiz.service.auth=DEBUG
logging.level.io.strategiz.service.auth=DEBUG
logging.level.io.strategiz.service.auth.service.passkey=DEBUG
